核心目的：自动管理堆内存，避免内存泄漏、野指针、重复释放（基于 RAII 思想），定义在 `<memory>` 头文件。

## 1. 核心类型（3 种）

|类型|核心特点（精简）|适用场景|关键注意点|
|---|---|---|---|
|`unique_ptr`|独占所有权，不可拷贝、可移动|无需共享对象（最常用）|优先用 `make_unique`（C++14+），支持数组|
|`shared_ptr`|共享所有权，引用计数管理|多指针共享同一对象|优先用 `make_shared`，避免循环引用|
|`weak_ptr`|弱引用，不影响引用计数|解决 `shared_ptr` 循环引用|需 `lock()` 转为 `shared_ptr` 才能访问对象|

## 2. 关键概念

- 独占所有权：同一时间只有一个指针指向对象（`unique_ptr`）；
- 引用计数：`shared_ptr` 内部计数器，拷贝 + 1、析构 - 1，计数为 0 释放对象；
- 弱引用：`weak_ptr` 只观察对象，不增加计数，打破循环依赖。

## 3. 常见误区（避坑）

1. 不用裸 `new`/`delete`，优先 `make_xxx` 创建智能指针；
2. 不混用原始指针与智能指针（避免重复释放）；
3. 移动`unique_ptr`指针要move；
4. `shared_ptr` 避免互相强引用（用 `weak_ptr` 解决循环）；
5. 无需共享时，优先 `unique_ptr`（高效无额外开销）。

