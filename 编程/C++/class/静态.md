# static变量
一个static决定了该变量的生存时间为从定义到程序结束

该变量在作用域有且仅有一个，只会被初始化一次

static也决定了其作用域，即在哪里定义作用域就在哪里

- 若在文件全局定义，则static变量就存在于这个文件，别的文件不能访问
- 若存在于自己定义的函数，则函数外不可访问
- 若在class中定义，则在所有该class类型中同样只存在一个，且要用class名::static变量名访问（作用域在class中）
	- 当然也可以【类的实体名.静态变量】来修改这个唯一的值（即意味着别的实体用这种方式调用得到的结果也会发生改变）
	- 是“**类型级**”变量

我们在class内将[[构造函数和析构函数||构造函数]]放在private中，禁止外界初始化类型，可以实现单实体
```cpp
#include<iostream>
class Singleton {
private:
	Singleton() {};//构造函数
public:
	static Singleton& Get() {
		static Singleton instance;
		return instance;
	}
	int n = 1;//C++中允许在类中直接初始化值

	void Hello() {
		std::cout << "OK" << std::endl;
	}
};
int main() {
	Singleton& a = Singleton::Get();
	Singleton& b = Singleton::Get();
	std::cout << a.n << " " << b.n << std::endl;//结果为0 0
	a.n++;
	std::cout << a.n << " " << b.n << std::endl;//结果为1 1
}
```
# static函数
- 其实跟变量差不多，一般只在本文件中可以访问

- 在class中的static函数：
	- 可以直接访问class中的static变量，不能访问非static变量，除非给输入值
	- 对应的，class中非静态函数可直接调用非静态变量
	- 无需实体，直接在class类型中引用
	- 非static函数必须要跟实体，否则不能引用
- class中的static函数，是“**[[类型级和对象级||类型级]]**”工具，不依赖具体对象
	- 具体调用，`class名：：静态函数名`
	- 跟实体不在一个层次，无[[This指针]]
	- 存储和共享逻辑和普通成员函数、[[虚函数 纯虚函数 多态||虚函数]]一致