å…ˆçœ‹ï¼š[[Iteratoråˆ†ç±»]]
ä¸‹é¢æˆ‘**ä¸å†ä»å®¹å™¨è®²èµ·**ï¼Œè€Œæ˜¯**ä»â€œè¿­ä»£å™¨èƒ½åšä»€ä¹ˆæ“ä½œâ€å‡ºå‘**ï¼Œç³»ç»Ÿè®²æ¸…æ¥šè¿™äº› _operations_ï¼Œä»¥åŠ**å“ªäº›è¿­ä»£å™¨ç±»å‹æ”¯æŒå“ªäº›æ“ä½œ**ï¼Œè¿™æ˜¯æ ‡å‡†åº“çœŸæ­£å…³å¿ƒçš„ä¸œè¥¿ã€‚

---

## ä¸€ã€Iterator Operations çš„æ€»ä½“æ¡†æ¶ï¼ˆéå¸¸é‡è¦ï¼‰

C++ æ ‡å‡†å¹¶ä¸æ˜¯æŒ‰â€œå®¹å™¨â€å®šä¹‰è¿­ä»£å™¨ï¼Œè€Œæ˜¯æŒ‰**â€œèƒ½åŠ›é€çº§å åŠ â€**æ¥å®šä¹‰è¿­ä»£å™¨æ“ä½œï¼š

```
Input
  â†“
Forward
  â†“
Bidirectional
  â†“
Random Access
  â†“
Contiguous (C++20)
```

ğŸ‘‰ **æ¯å¾€ä¸‹ä¸€å±‚ï¼Œæ”¯æŒçš„ operations åªå¤šä¸å°‘**

---

## äºŒã€æœ€åŸºç¡€çš„ä¸€ç»„ï¼šæ‰€æœ‰è¿­ä»£å™¨éƒ½å¿…é¡»æ”¯æŒçš„æ“ä½œ

### 1ï¸âƒ£ è§£å¼•ç”¨ï¼ˆDereferenceï¼‰

```cpp
*it
it->member
```

**å«ä¹‰**

- `*it`ï¼šè®¿é—®å½“å‰å…ƒç´ 
    
- `it->x`ï¼šè®¿é—®å…ƒç´ æˆå‘˜ï¼ˆç­‰ä»·äº `(*it).x`ï¼‰
    

**æ³¨æ„**

- Input Iteratorï¼š`*it` åªèƒ½è¯»ï¼Œä¸”**å¯èƒ½æ˜¯ä¸€æ¬¡æ€§çš„**
    
- Output Iteratorï¼š`*it = value`
    
- é const iteratorï¼š`*it` å¯ä¿®æ”¹
    
- const_iteratorï¼š`*it` åªè¯»
    

---

### 2ï¸âƒ£ é€’å¢ï¼ˆIncrementï¼‰

```cpp
++it    // å‰ç½®
it++    // åç½®
```

**å«ä¹‰**

- æŒ‡å‘â€œä¸‹ä¸€ä¸ªâ€å…ƒç´ 
    
- åç½®é€’å¢å¯èƒ½è¿”å›æ—§å€¼ï¼Œ**æ•ˆç‡é€šå¸¸æ›´ä½**
    

âœ… **æ‰€æœ‰è¿­ä»£å™¨ç±»å‹éƒ½æ”¯æŒ `++it`**

---

### 3ï¸âƒ£ ç›¸ç­‰ / ä¸ç­‰æ¯”è¾ƒ

```cpp
it1 == it2
it1 != it2
```

**å«ä¹‰**

- åˆ¤æ–­æ˜¯å¦æŒ‡å‘åŒä¸€ä½ç½®
    
- é€šå¸¸ç”¨äºå¾ªç¯ç»“æŸæ¡ä»¶
    

---

## ä¸‰ã€Input / Output Iterator ä¸“å±æ“ä½œå·®å¼‚

### ğŸ”¹ Input Iteratorï¼ˆè¯»ï¼‰

```cpp
auto x = *it;  // OK
++it;          // OK
```

ğŸš« ä¸ä¿è¯ï¼š

- å¤šæ¬¡è§£å¼•ç”¨ç»“æœä¸€è‡´
    
- æ‹·è´åè¿˜èƒ½ç‹¬ç«‹ä½¿ç”¨
    

ğŸ“Œ å…¸å‹ä¾‹å­ï¼š

```cpp
istream_iterator<int>
```

---

### ğŸ”¹ Output Iteratorï¼ˆå†™ï¼‰

```cpp
*it = value;
++it;
```

ğŸš« ä¸æ”¯æŒï¼š

- `auto x = *it`
    
- æ¯”è¾ƒä¸¤ä¸ª output iterator çš„å€¼è¯­ä¹‰
    

ğŸ“Œ å…¸å‹ä¾‹å­ï¼š

```cpp
back_inserter(vec)
ostream_iterator<int>
```

---

## å››ã€Forward Iteratorï¼š**â€œèƒ½åå¤éå†â€æ˜¯å…³é”®**

### æ–°å¢è¯­ä¹‰ï¼ˆä¸æ˜¯æ–°è¯­æ³•ï¼‰

```cpp
*it      // å¤šæ¬¡è§£å¼•ç”¨ç»“æœä¸€è‡´
++it     // å¤šæ¬¡éå† OK
```

ğŸ“Œ **è¿™æ˜¯ç¬¬ä¸€ä¸ªâ€œå¤šéå¯ç”¨â€çš„è¿­ä»£å™¨**

âœ… æ”¯æŒï¼š

- æ‹·è´
    
- å¤šæ¬¡éå†åŒä¸€åŒºé—´
    

ğŸ“Œ å®¹å™¨ï¼š

- `forward_list`
    
- `unordered_*`
    

---

## äº”ã€Bidirectional Iteratorï¼šæ–°å¢ `--`

### 4ï¸âƒ£ é€’å‡ï¼ˆDecrementï¼‰

```cpp
--it
it--
```

**å«ä¹‰**

- æŒ‡å‘å‰ä¸€ä¸ªå…ƒç´ 
    

ğŸ“Œ å®¹å™¨ï¼š

- `list`
    
- `set / map`
    
- `multiset / multimap`
    

ğŸš« ä¸æ”¯æŒéšæœºè·³è·ƒ

---

## å…­ã€Random Access Iteratorï¼šçœŸæ­£â€œåƒæŒ‡é’ˆâ€

è¿™æ˜¯ operations **æœ€å¤šã€ä¹Ÿæ˜¯æœ€å®¹æ˜“è€ƒ/é¢è¯•é—®é”™çš„ä¸€ç±»**

### 5ï¸âƒ£ ç®—æœ¯è¿ç®—

```cpp
it + n
it - n
it += n
it -= n
```

**å«ä¹‰**

- O(1) è·³è½¬ n ä¸ªå…ƒç´ 
    

---

### 6ï¸âƒ£ ä¸¤ä¸ªè¿­ä»£å™¨æ±‚è·ç¦»

```cpp
it2 - it1   // è¿”å› difference_type
```

ğŸ“Œ **åªæœ‰ Random Access æ‰æ”¯æŒ**

---

### 7ï¸âƒ£ ä¸‹æ ‡è®¿é—®

```cpp
it[n]   // ç­‰ä»·äº *(it + n)
```

ğŸ“Œ è¿™å°±æ˜¯ `vector` èƒ½ `it[3]`ï¼Œ`list` ä¸è¡Œçš„åŸå› 

---

### 8ï¸âƒ£ å…³ç³»æ¯”è¾ƒ

```cpp
it1 < it2
it1 > it2
it1 <= it2
it1 >= it2
```

ğŸ“Œ è¡¨ç¤º**ä½ç½®é¡ºåº**

---

ğŸ“Œ å®¹å™¨ï¼š

- `vector`
    
- `deque`
    
- `array`
    

---

## ä¸ƒã€Contiguous Iteratorï¼ˆC++20ï¼Œæ–°ä½†å¾ˆé‡è¦ï¼‰

### æ–°å¢èƒ½åŠ›ï¼š**å†…å­˜è¿ç»­**

```cpp
std::to_address(it)
```

**è¯­ä¹‰**

- è¿­ä»£å™¨æŒ‡å‘çœŸå®è¿ç»­å†…å­˜
    
- å¯å®‰å…¨è½¬æ¢ä¸ºæŒ‡é’ˆ
    

ğŸ“Œ å®¹å™¨ï¼š

- `vector`
    
- `array`
    
- `string`
    

ğŸš« `deque` **ä¸æ˜¯ contiguous**ï¼ˆè™½ç„¶æ˜¯ random accessï¼‰

---

## å…«ã€åå‘è¿­ä»£å™¨çš„ç‰¹æ®Š operationsï¼ˆå®¹æ˜“è¸©å‘ï¼‰

```cpp
reverse_iterator rit;
```
åå‘è¿­ä»£å™¨çš„å‡ç›¸å½“äºæ­£å‘è¿­ä»£å™¨çš„åŠ 
### å…³é”®åŒºåˆ«

```cpp
*rit        // å®é™…è®¿é—®çš„æ˜¯å‰ä¸€ä¸ªå…ƒç´ 
rit.base()  // è¿”å›â€œæ­£å‘è¿­ä»£å™¨â€
```

ğŸ“Œ å…³ç³»ï¼š

```cpp
rit.base() == it
*rit == *(it - 1)
```

âš ï¸ è¿™æ˜¯é¢è¯•å’Œè°ƒè¯•ä¸­**æœ€å¸¸å‡ºé”™çš„ç‚¹**

---

## ä¹ã€Iterator Operations ä¸ç®—æ³•çš„å…³ç³»ï¼ˆæœ¬è´¨ï¼‰

æ ‡å‡†ç®—æ³•æ˜¯è¿™æ ·å†™çš„ï¼š

```cpp
template<class It>
void algo(It first, It last);
```

ä½†å†…éƒ¨ä¼š**æŒ‰ operations é€‰æ‹©å®ç°ç­–ç•¥**ï¼š

| ç®—æ³•         | æœ€ä½è¦æ±‚              |
| ---------- | ----------------- |
| `find`     | Input             |
| `copy`     | Input + Output    |
| `sort`     | Random Access     |
| `reverse`  | Bidirectional     |
| `advance`  | Inputï¼ˆä½†éšæœºè®¿é—®æ›´å¿«ï¼‰    |
| `distance` | Inputï¼ˆä½†éšæœºè®¿é—® O(1)ï¼‰ |

ğŸ‘‰ **ç®—æ³•ä¸æ˜¯æŒ‰å®¹å™¨é™åˆ¶ï¼Œè€Œæ˜¯æŒ‰ iterator operations é™åˆ¶**

---

[[è¿­ä»£å™¨ç»Ÿä¸€æ¥å£å‡½æ•°]]
