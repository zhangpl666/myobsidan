`[i for i in range(20) if i % 3 > 0]
结果是一个排除3倍数的数字列表。虽然这个例子一开始可能有些困惑，但随着对Python的熟悉度加深，阅读和写出列表推导式会成为第二天性。
`[1, 2, 4, 5, 7, 8, 10, 11, 13, 14, 16, 17, 19]
# 基本列表推导式
```python
L = []
for n in range(12):
    L.append(n ** 2)
#[0, 1, 4, 9, 16, 25, 36, 49, 64, 81, 100, 121]
```
这个列表推导式等价于：
```python
[n ** 2 for n in range(12)]
#[0, 1, 4, 9, 16, 25, 36, 49, 64, 81, 100, 121]
```


# 多重迭代器
有时候你需要的列表不只是一个数字，而是两个或者更多
为了实现这个，只需在推导式简单相加两个（多个）for表达式：
```python
[(i,j) for  i in range(2) for j in range(3)]
#[(0, 0), (0, 1), (0, 2), (1, 0), (1, 1), (1, 2)]
```
注意到第二个表达式作为内部索引，变化优先级高于第一个。
同样逻辑可以用于更多重的推导式

# 迭代条件句
可以更进一步的控制迭代器，通过在表达式末尾添加条件。
```python
[val for val in range(20) if val % 3 > 0]
#[1, 2, 4, 5, 7, 8, 10, 11, 13, 14, 16, 17, 19]
```
这个表达式检查迭代器是否能除以三。英语语义可以之间读出来
等价于：
```python
L = []
for val in range(20):
    if val % 3:
        L.append(val)
```

# 取值迭代句
在C语言中，我们有三元运算符：
```C
int absval = (val<0)? -val:val
```
python有相似的操作，在列表表达式中、lambda函数中和其他需要简答表达式的地方常常用到：
```python
val = -10
val if val >= 0 else -val
#若val大于零，不操作，如果小于零，再取负
```
加入这个，列表推导式就会变得复杂了
```python
[val if val % 2 else -val 
 for val in range(20) if val % 3]
#[1, -2, -4, 5, 7, -8, -10, 11, 13, -14, -16, 17, 19]
#含义是，如果val可以被2整除，那么就赋值为负，且判断后的数要不能被3整除
```
这里换行，在python中是允许的，且增加可读性

# 迁移：
如果这个没有什么问题的话，那么别的容器也可以迁移同样的语法
## Set
set是不能更改的list，所以你只需要将中括号改成大括号就行了，不多讲

## dict
dict有两个部分，索引和内容，内容部分可以同通过索引推导
```python
{n:n**2 for n in range(6)}
#{0: 0, 1: 1, 2: 4, 3: 9, 4: 16, 5: 25}
```
## *generator expression* ：生成元表达式
将方括号改成小括号，就得到生成元表达式
```python
(n**2 for n in range(12))
```
[[生成元]]本质是一个list，但区别是不会一次性生成所有元素，只有在需要使用时才会生成