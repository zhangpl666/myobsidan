# IP地址
IP 地址（Internet Protocol Address，互联网协议地址）是互联网中用于唯一标识**网络设备**（如电脑、手机、服务器、路由器等）的一串数字，相当于设备在网络中的 “门牌号”。所有设备之间的通信（如浏览网页、发送消息、观看视频），本质上都是通过 IP 地址定位目标设备并传输数据的。

## 一、IP 地址的核心作用

1. **设备定位**：在庞大的互联网中，IP 地址能精准标记设备所在的网络位置，确保数据能 “找到” 目标设备（类似快递需要准确的收件地址）。
2. **数据路由**：数据从发送方到接收方，会经过多个路由器，IP 地址是路由器判断 “数据该往哪传” 的核心依据。
3. **身份标识**：在网络管理中，IP 地址可用于识别设备身份，例如排查网络故障、限制特定设备访问等。

## 二、IP 地址的两种主要版本：IPv4 与 IPv6

目前互联网中并存两种 IP 地址版本，核心差异在于地址长度和可用数量，以解决 “IP 地址耗尽” 的问题。

|对比维度|IPv4（互联网协议第 4 版）|IPv6（互联网协议第 6 版）|
|---|---|---|
|地址长度|32 位（二进制），通常用**点分十进制**表示（如 192.168.1.1）|128 位（二进制），通常用**冒分十六进制**表示（如 2001:0db8:85a3:0000:0000:8a2e:0370:7334）|
|可用地址数量|约 43 亿个（实际因子网划分、保留地址等，可用量更少）|约 3.4×10³⁸个（足够为地球每粒沙子分配多个 IP）|
|地址格式示例|10.0.0.1、255.255.255.0|2001:db8::1（支持省略连续的 0，用 “::” 简化）|
|现状|2011 年已正式耗尽，目前依赖 “地址转换” 技术续命|全球逐步推广，是未来互联网的主流版本|

## 三、IP 地址的两种类型：公网 IP 与私网 IP

根据 “是否能直接被互联网访问”，IP 地址可分为公网 IP 和私网 IP，两者配合解决了 IPv4 地址不足的问题。

### 1. 公网 IP（Public IP）

- **定义**：由**国际互联网信息中心（ICANN）或地区性机构（如中国的 CNNIC）分配**的、全球唯一的 IP 地址，可直接在互联网中被访问。
- **适用场景**：服务器（如百度、淘宝的服务器）、需要直接被外部访问的设备（如部分企业的办公设备）。
- **特点**：数量稀缺，普通家庭用户通常无法直接获取公网 IP（需向运营商申请）。

### 2. 私网 IP（Private IP）

- **定义**：仅用于**局域网内部**的 IP 地址，无法直接被互联网访问，需通过 “网络地址转换（NAT）” 技术借助公网 IP 与外部通信。
- **适用场景**：家庭 WiFi 下的手机、电脑，公司内网的办公设备等。
- **特点**：可重复使用（不同局域网内的设备可使用相同私网 IP），IPv4 规定了 3 段保留的私网 IP 地址段：
    - A 类：10.0.0.0 ~ 10.255.255.255（常见于大型企业内网）
    - B 类：172.16.0.0 ~ 172.31.255.255（常见于中型网络）
    - C 类：192.168.0.0 ~ 192.168.255.255（最常见，家庭 / 小型局域网默认使用，如 192.168.1.1 通常是路由器地址）

## 四、IP 地址的 “动态” 与 “静态” 之分

根据 IP 地址是否固定，还可分为动态 IP 和静态 IP，适用于不同场景。

|类型|定义|优点|缺点|适用场景|
|---|---|---|---|---|
|动态 IP（DHCP）|由路由器或运营商的 DHCP 服务器**自动分配**，设备每次联网可能获取不同 IP|节省 IP 地址资源，无需手动配置|IP 不固定，无法通过固定 IP 访问设备|普通家庭用户、手机移动网络|
|静态 IP|手动设置或由运营商分配**固定不变**的 IP|IP 固定，便于远程访问（如远程控制电脑、搭建服务器）|浪费 IP 资源，需手动配置（易出错）|服务器（如网站、监控服务器）、企业办公设备|

## 五、如何查看自己设备的 IP 地址？

不同设备和系统的查看方式不同，以下是常见场景的操作：

### 1. 电脑（Windows 系统）

1. 按下 `Win + R` 键，输入 `cmd` 并回车，打开 “命令提示符”；
2. 在命令行中输入 `ipconfig` 并回车；
3. 找到 “无线局域网适配器”（连 WiFi）或 “以太网适配器”（插网线），其中：
    - **IPv4 地址**：即当前设备的私网 IP（如 192.168.1.100）；
    - **默认网关**：通常是路由器的 IP（如 192.168.1.1）。

### 2. 电脑（macOS 系统）

1. 点击屏幕左上角苹果图标 → 选择 “系统设置”；
2. 左侧栏点击 “网络”，选择当前连接的网络（WiFi / 以太网）；
3. 点击 “详细信息”，在 “TCP/IP” 标签页中查看 “IPv4 地址”。

### 3. 手机（以 iOS 为例，Android 类似）

1. 打开 “设置” → 点击 “无线局域网”；
2. 长按当前连接的 WiFi 名称，选择 “属性”（iOS）或 “修改网络”（Android）；
3. 在 “IP 设置” 中即可查看 “IPv4 地址”（私网 IP）。

### 4. 查看公网 IP

私网 IP 仅能在局域网内使用，若想知道设备的公网 IP，可直接在浏览器中搜索 “我的 IP”，搜索结果顶部会显示当前的公网 IP（如 220.181.xxx.xxx）。

## 六、IP 地址与隐私安全

IP 地址会泄露设备的**大致地理位置**（通常精确到城市，部分可到区县，无法定位到具体街道或家庭），以及网络运营商信息。因此，在使用公共网络或陌生平台时，需注意：

- 避免向不明第三方泄露自己的 IP 地址；
- 若需保护隐私，可通过 “虚拟专用网络（VPN）” 或 “代理服务器” 隐藏真实 IP（需使用合规服务）；
- 警惕通过 IP 地址发起的网络攻击（如 DDoS 攻击），日常需开启设备防火墙。






# 主机名和域名

每一台电脑处理对外联络的IP地址外，也有一个名字称为主机名
## Linux中主机名
Linux中，root用户输入hostname可查看
可以使用命令hostname set-hostname修改主机名

IP地址很难记，用字符化的地址访问服务器，这是域名解析
![[域名解析过程.png]]
即先查看本机记录
- Windows看 `C/Windows/System32/drivers/etc/hosts`
- Linux看 `:/etc/hosts`
再联网去DNS服务器
## 配置主机名映射
找到
- Windows看 `C/Windows/System32/drivers/etc/hosts`
- Linux看 `:/etc/hosts`
在文件后面写：【IP地址】【你想写的主机名映射】
完成映射后可以直接用映射名访问

# 网络传输
## 下载和网络传输
### pin命令
通过ping命令，检查特定的网络服务器是否可连通
语法：`ping [-c num] ip或主机名
- 选项-c ：后面跟检查的次数，不给次数就会无限检查

### wget命令
wget是非交互式的文件下载器，可以在命令行内下载网络文件
语法：`wget [-b] url`
- 选项b：后台下载
- url：下载链接
下载文件出现不代表下载完成，只要开始下载电脑就会创建文件
后台下载在wget.log文件中输出

### curl命令
可发送http网络请求，可用于下载文件和获取信息
语法：`curl [-O] url 
- 选项-O：用于下载文件，当url是下载链接时，可用此选项保存文件
- 参数url：要发起网络请求的网络地址
本质上和打开网站一样，只不过在命令行中看到的时HTML源码

## 端口
### 概念
端口，是设备与外界通讯交流的出入口。端口可以分为：物理端口和虚拟端口两类
- 物理端口：又可称之为接口，是可见的端口，如 USB 接口，RJ45 网口，HDMI 端口等
- 虚拟端口：是指计算机内部的端口，是不可见的，是用来操作系统和外部进行交互使用的
为什么要端口？
IP地址只是找到电脑，具体哪个程序不知道
端口可以锁定具体程序
Linux 系统是一个超大号小区，可以支持 65535 个端口，这 6 万多个端口分为 3 类进行使用

- 公认端口：1~1023, 通常用于一些系统内置或知名程序的预留留使用，如 SSH 服务的 22 端口，HTTPS 服务的 443 端口（非特殊需要，不要占用这个范围的端口）
- 注册端口：1024~49151, 通常可以随意使用，用于松散的绑定一些程序 \ 服务
- 动态端口：49152~65535, 通常不会固定绑定程序，而是当程序对外进行网络链接时，用于临时使用。

# 进程
程序运行在操作系统中,是被操作系统所管理的。
为管理运行的程序,每一个程序在运行的时候,便被操作系统注册为系统中的一个:进程
并会为每一个进程都分配一个独有的:进程ID(进程号)

## ps命令查看进程

可以通过ps命令查看Linux系统中的进程信息
语法:`ps[-e-f]`
- 选项:-e,显示出全部的进程
- 选项:-f,以完全格式化的形式展示信息(展示全部信息)
一般来说,固定用法就是:ps -ef列出全部进程的全部信息
从左到右分别是:
- UID:进程所属的用户ID
- PID:进程的进程号ID
- PPID:进程的父ID(启动此进程的其它进程)
- C:此进程的CPU占用率(百分比)
- STIME:进程的启动时间
- TTY:启动此进程的终端序号,如显示?,表示非终端启动，系统内置启动
- TIME：进程占用CPU的时间
- CMD：进程启动路径或者说启动命令

一般使用管道符过滤指定信息

## kill命令关闭进程
在Windows系统中,可以通过任务管理器选择进程后,点击结束进程从而关闭它。
同样,在Linux中,可以通过kill命令关闭进程。
语法：`kill[-9] 进程ID`
- 选项:-9,表示强制关闭进程。不使用此选项会向进程发送信言号要求其关闭,但是否关闭看进程自身的处理机制。

# 主机状态监控

## 查看资源占用
可以通过top命令查看CPU、内存使用情况,类似Windows的任务管理器

默认每5秒刷新一次,语法:直接输入`top`即可,按`q`或`ctrl+c`退出

### top命令详解
置顶信息：
![[Pasted image 20251118161852.png]]
负载：一颗CPU百分百繁忙为1

- PID:进程id
- USER:进程所属用户
- PR:进程优先级,越小越高
- NI:负值表示高优先级,正表示低优先级
- VIRT:进程使用虚拟内存,单位KB
- RES:进程使用物理内存,单位KB
- SHR:进程使用共享内存,单位KB
- S:进程状态(S休眠,R运行,Z僵死状态,N负数优先级,I空闲状态
- %CPU:进程占用CPU率
- %MEM:进程占用内存率
- TIME+:进程使用CPU时间总计,单位10毫秒
- COMMAND：进程的命令或名称或程序文件路径

top命令也支持选项:

| 选项  | 功能                                                                            |
| --- | ----------------------------------------------------------------------------- |
| -p  | 只显示某个进程的信息                                                                    |
| -d  | 设置刷新时间,默认是5s                                                                  |
| -c  | 显示产生进程的完整命令,默认是进程名                                                            |
| -n  | 指定刷新次数,比如 top-n3,刷新输出3次后退出                                                    |
| -b  | 以非交互非全屏模式运行,以批次的方式执行top,一般配合-n指定输出几次统计信息,将输出重定向到指定文件,比如 top-b-n3>/tmp/top.tmp |
| -i  | 不显示任何闲置(idle)或无用(zombie)的进程                                                   |
| -u  | 查找特定用户启动的进程                                                                   |

## 磁盘信息监控
- 使用df命令，可以查看硬盘使用情况
- 语法：`df [-h]`
	- 选项：-h，以更加人性化的方式显示

使用`iostat`查看CPU、磁盘相关信息
- 语法：`iostat [-x][num1][num2]
	- 选项-x：显示更多信息
	- num1：数字，刷新间隔，num2：数字，刷新几次

## 网络状况监控
- 可以使用sar命令查看网络的相关统计
- 语法：`sar -n DEV num1 num2·
	- 选项：-n，查看网络，DEV表示查看网络接口
	- num1：刷新间隔
	- num2：刷新次数

信息解读:
- IFACE本地网卡接口的名称
- rxpck/s每秒钟接受的数据包
- txpck/s每秒钟发送的数据包
- rxKB/S每秒钟接受的数据包大小,单位为KB
- txKB/S每秒钟发送的数据包大小,单位为KB
- rxcmp/s每秒钟接受的压缩数据包
- txcmp/s每秒钟发送的压缩包
- rxmcst/s每秒钟接收的多播数据包

# 环境变量
在讲解which命令的时候,我们知道使用的一系列命令其实本质上就是一个个的可执行程序。
比如,cd命令的本体就是:/usr/bin/cd这个程序文件。
我们是否会有疑问,为何无论当前工作目录在哪里,都能执行:/usr/bin/cd这个程序呢?
环境变量是操作系统(Windows、Linux、Mac)在运行的时候,记录的一些关键性信息,用以辅助系统运行
在Linux系统中执行:env命令即可查看当前系统中记录的环境竞变量
使用`env`命令就能查看系统环境变量
## PATH变量
在前面提出的问题中,我们说无论当前工作目录是什么,都能执行/usr/bin/cd这个程序,这个就是借助环境变量中:
PATH这个项目的值来做到的。
`[@centos ~]$ env | grep PATH
`PATH=/us r/local/bin:/usr/bin:/us r/local/sbin:/usr/sbin:/home/itheima/.local/bin:/home/itheima/bin
PATH记录了系统执行==任何命令的搜索路径==,如上图记录了(路径之间以:隔开)
`/usr/local/bin
`/usr/bin
`/usr/local/sbin
`/usr/sbin
`/home/itheima/.local/bin
`/home/itheima/bin
当执行任何命令,都会按照顺序,从上述路径中搜索要执行的程序的本体
比如执行cd命令,就从第二个目录/usr/bin中搜索到了cd命令,并执行

## $符号
在Linux系统中，$符号被用于取“变量”的值。
环境变量记录的信息，除了给操作系统自己使用外，如果我们想要取用，也可以使用。
取得环境变量的值就可以通过语法：$环境变量名来取得
比如：echo $PATH
就可以取得PATH这个环境变量的值，并通过echo语句输出出来。

## 自行设置环境变量
Linux环境变量可以用户自行设置,其中分为:
- 临时设置,语法:export变量名=变量值
- 永久生效
	- 针对当前用户生效,配置在当前用户的~/bashrc文件中
	- 针对所有用户生效,配置在系统的:/etc/profile文件中
	- 并通过语法:source配置文件,进行立刻生效,或重新登录Finalshell生效